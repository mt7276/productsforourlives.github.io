# Enable Rewrite Engine
RewriteEngine On

# Force HTTPS
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Redirect www to non-www (optional, remove if not needed)
RewriteCond %{HTTP_HOST} ^www\.productsforourlives\.com$ [NC]
RewriteRule ^(.*)$ https://productsforourlives.com/$1 [L,R=301]

# Redirect index.html and index to root
RewriteCond %{THE_REQUEST} /index(\.html)? [NC]
RewriteRule ^(.*)index(\.html)?$ /$1 [R=301,L]

# Ensure trailing slash for category pages (but not files)
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^(.+[^/])$ %{REQUEST_URI}/ [L,R=301]

# Redirects for Sitemap URLs
Redirect 301 /blog https://www.productsforourlives.com/blog/
Redirect 301 /night-vision-thermal-imaging https://www.productsforourlives.com/night-vision-thermal-imaging/
Redirect 301 /radar-guns-speed-sensors https://www.productsforourlives.com/radar-guns-speed-sensors/
Redirect 301 /long-range-walkie-talkies https://www.productsforourlives.com/long-range-walkie-talkies/
Redirect 301 /about https://www.productsforourlives.com/about/
Redirect 301 /blogs/how-a-radar-gun-helped-my-son https://www.productsforourlives.com/blogs/how-a-radar-gun-helped-my-son/
Redirect 301 /blogs/night-vision-adventure https://www.productsforourlives.com/blogs/night-vision-adventure/

# Allow sitemap.xml to remain accessible
RewriteRule ^sitemap\.xml$ sitemap.xml [L]
